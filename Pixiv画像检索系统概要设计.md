# Pixiv画像检索系统概要设计.md

## 1 导言

### 1.1 目的
* 该文档是关于Pixiv画像检索系统的功能和性能的概述，指导开发员进行编码。
* 本文档的预期的读者是：管理员、 普通用户。

### 1.2 背景
* 待开发软件系统的名称：Pixiv画像检索系统
* 此系统任务提出者：null
* 此系统任务开发者：王子健
* 此系统任务用户：不便于修改host文件的内地Pixiv用户

### 1.3 基线
* 暂无

### 1.4 特殊名词定义
* 暂无

### 1.5 参考资料
* 暂无

## 2 总体设计

### 2.1 概述
* 该系统提供以下有限的服务："Pixiv日排行的浏览"与"免费高级会员热门排序搜索"。
* 该系统不会存放任何图片文件，搜索模块仅是实时转发p站图片，排行图片则是托管于各大图床。
* 该系统是基于[Pixivc](https://pixivic.com/)所提供的api以及开源架构所编写的，有关信息以及声明均以该网站为准
* 该系统不会用于任何盈利性行为，且该系统不会依赖这些图片来用于任何盈利性行为。

### 2.2 系统环境描述

#### 2.2.1 运行环境

##### 2.2.1.1 软件环境
分类|名称|版本
---|:
操作系统|Windows 10|2020.05
数据库平台|MySQL|8.1
应用平台|tomcat|9.0.16

##### 2.2.1.2 硬件环境
服务器|最低配置|推荐配置
---|:
应用和数据库服务器|CPU: 2.0GHz|CPU: 2.4GHz
|Mem：512M|Mem：512M
|HD：40G|HD：120G

#### 2.2.2 开发环境

##### 2.2.2.1 服务器软件环境
分类|名称|版本
---|:
操作系统|Windows serve|null
数据库平台|MySQL|8.1
应用平台|tomcat|9.0.16

##### 2.2.2.2 服务器硬件环境
服务器|最低配置|推荐配置
---|:
应用和数据库服务器|CPU: 2.0GHz|CPU: 2.4GHz
|Mem：512M|Mem：512M
|HD：40G|HD：120G

##### 2.2.2.3 开发机器软件环境
分类|名称|版本
---|:
操作系统|Windows 10|2020.05
数据库平台|MySQL|8.1
应用平台|tomcat|9.0.16

###### 2.2.2.4 开发机器硬件环境
服务器|最低配置|推荐配置
---|:
应用和数据库服务器|CPU: 2.0GHz|CPU: 2.4GHz
|Mem：512M|Mem：512M
|HD：40G|HD：120G

### 2.3 系统总体结构设计

#### 2.3.1 系统业务层次图
![系统业务层次图](https://wx1.sbimg.cn/2020/05/18/-12525d2f25605fd4c.png)

#### 2.3.2 系统架构说明
![系统架构层次图](https://wx2.sbimg.cn/2020/05/18/_20200518190545.png)

#### 2.3.3 关键技术与算法
* AJAX: AJAX 是一种用于创建快速动态网页的技术。通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。传统的网页（不使用 AJAX）如果需要更新内容，必须重载整个网页页面。
* axios: Axios是通过Promise实现XHR封装，其中Promise是控制手段，XHR是实际发送Http请求的客户端。是一种基于Promise封装的HTTP客户端。
## 3 系统功能设计

### 3.1 首页/排行

#### 3.1.1 功能描述
* 进入系统首页便会默认显示当日排行

#### 3.1.2 流程图
```flow
st=>start: 进入系统
op=>operation: 进入首页/排行
e=>end: 退出系统

st->op->e
```
### 3.2 画像详情

#### 3.2.1 功能描述
* 在“首页/排行”界面点击画像即可进入该画像详情

#### 3.2.2 流程图
```flow
st=>start: 进入系统
op1=>operation: 进入首页/排行
op2=>operation: 进入画像详情
cond=>condition: 是否点击画像
e=>end: 退出系统

st->op1->cond
cond(yes)->op2
cond(no)->e
```

### 3.3 画像搜索

#### 3.3.1 功能描述
* 在“首页/排行”界面的搜索栏输入关键字进行搜索即可搜索画像

#### 3.3.2 流程图
```flow
st=>start: 进入系统
op1=>operation: 进入首页/排行
op2=>operation: 输入关键字
op3=>operation: 搜索完成
cond=>condition: 是否进行画像搜索
e=>end: 退出系统

st->op1->cond
cond(yes)->op2->op3
cond(no)->e
```

### 3.4 个人中心

#### 3.4.1 功能描述
* 若无账号，在“首页/排行”界面点击注册即可注册账号，注册后跳转至登录界面，输入账号密码即可登录
* 若已有账号，在“首页/排行”界面点击登录即可跳转至登录界面，输入账号密码登录
* 登陆后，在“首页/排行”界面点击用户名即进入个人信息界面

#### 3.4.2 流程图
```flow
st=>start: 进入系统
op1=>operation: 进入首页/排行
op2=>operation: 注册
op3=>operation: 登录
op4=>operation: 个人信息
cond1=>condition: 是否已有账号
cond2=>condition: 是否进入个人信息界面
e=>end: 退出系统

st->op1->cond1
cond1(yes)->op3
cond1(no)->op2->op3
op3->cond2
cond2(yes)->op4
cond2(no)->e
```

## 4 尚待解决的问题
* null